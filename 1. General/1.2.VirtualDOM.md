# 1.2 Virtual DOM

## What the DOM is

The **DOM (Document Object Model)** is the browser’s _live_ representation of a web page.

It’s a tree structure that represents:

- HTML elements (e.g. `div`, `p`, `button`)
- their attributes (e.g. `class`, `id`)
- their content (text, nested elements)

When the DOM changes, the browser updates what you see on the screen.

---

## What the Virtual DOM is

The **Virtual DOM** is a **lightweight JavaScript copy** of the real DOM.

It is:

- kept in memory (not in the browser UI)
- created and managed by React
- not rendered directly to the screen

It represents **what the UI should look like right now**, based on your component code + state.

---

## Why the Virtual DOM exists

Updating the real DOM directly can be slow (especially if updates happen often).

React uses the Virtual DOM to:

- minimise direct DOM updates
- improve performance
- make updates more predictable

In short: React figures out what changed **first**, and only then touches the real DOM.

---

## How updates work

When state or props change:

1. React creates a **new Virtual DOM** representation
2. React compares it to the **previous Virtual DOM** (this comparison is called **diffing**)
3. React works out the **smallest set of changes**
4. React updates **only those parts** in the real DOM

This avoids re-rendering the whole page in the browser.

---

## What this means for developers

Most of the time, you:

- **do not** manually manipulate the DOM (no `document.querySelector(...)` for UI updates)
- **do not** decide exactly which elements to update

Instead, you:

- describe the UI based on state (`return (...)`)
- update state (`setState`, `useState`)
- let React update the DOM efficiently

---

## How this relates to JSX

JSX describes UI structure.

React:

- converts JSX into Virtual DOM objects
- compares Virtual DOM versions
- updates the real DOM where needed

This is why: **changing state automatically updates the UI**.

---

## Common misunderstandings

- The Virtual DOM is **not** a browser feature
- It does **not** replace the real DOM
- React still updates the real DOM
- The Virtual DOM is an **optimisation**, not magic

---

## Summary

- The **DOM** is the browser’s real page structure
- The **Virtual DOM** is React’s in-memory copy of that structure
- React compares old vs new Virtual DOM to find changes
- React updates only the necessary parts of the real DOM
- Developers describe UI; React handles efficient updates
