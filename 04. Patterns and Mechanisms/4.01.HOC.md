# 4.01 Higher-Order Components (HOC)

A **Higher-Order Component (HOC)** is a **pattern for reusing component logic**.

An HOC is **not a React feature**, but a **pattern built with functions**.

In simple terms:

> A Higher-Order Component is a function  
> that takes a component and returns a new component.

---

## What an HOC is

An HOC looks like this:

```js
const EnhancedComponent = withSomething(BaseComponent);
```

Here:

- **withSomething** → the HOC
- **BaseComponent** → your original component
- **EnhancedComponent** → a new component with extra behavior

The original component is **not modified**.  
It is **wrapped**.

---

## Context in simple words

HOCs answer this question:

> How can I reuse the same logic  
> across many components  
> without duplicating code?

They were widely used **before React Hooks existed**.

---

## Basic example

```js
function withLoading(Component) {
  return function WrappedComponent(props) {
    if (props.isLoading) {
      return <div>Loading...</div>;
    }

    return <Component {...props} />;
  };
}
```

## Usage

```js
const UserListWithLoading = withLoading(UserList);
```

Here:

- `withLoading` adds loading logic
- `UserList` focuses only on rendering users
- logic and UI are separated

---

## What HOCs are good at

HOCs are useful for:

- sharing logic between many components
- adding cross-cutting concerns
- enhancing components without changing them

Common historical use cases:

- authentication checks
- permission logic
- logging
- analytics tracking
- injecting data or props

---

## What HOCs do NOT do

HOCs:

- do not change how React works
- do not manage state by themselves
- do not replace hooks or context

They are just functions wrapping components.

---

## HOCs vs Hooks (important)

**Before Hooks:**

- HOCs were one of the main ways to reuse logic

**After Hooks:**

- hooks are usually simpler
- hooks are easier to compose
- hooks avoid wrapper nesting

Today:

> Hooks are preferred in most cases.  
> HOCs still exist, but are used less often.

---

## Problems with HOCs

HOCs have some downsides:

- wrapper nesting (“wrapper hell”)
- harder to follow component tree
- props can be accidentally overwritten
- harder debugging

Example of wrapper nesting:

```js
withAuth(withTheme(withLogger(Component)));
```

This becomes hard to read and debug.

---

## When to use HOCs today

HOCs still make sense when:

- working with older codebases
- using third-party libraries that expose HOCs
- wrapping components generically (e.g. permissions)

But for new logic:

> Prefer hooks and composition.

---

## When NOT to use HOCs

Avoid HOCs when:

- the logic can be expressed as a hook
- you need fine-grained control over state
- the component tree becomes hard to understand

If a hook works → **use a hook**.

---

## Mental model

- Component → UI
- HOC → function that adds behavior
- Result → enhanced component

Think of an HOC as:

> A reusable component “decorator”.

---

## Summary

- HOC is a pattern, not a React API
- It is a function that wraps a component
- It was widely used before Hooks
- It helps reuse logic across components
- It can make code harder to follow
- Hooks are usually the better choice today
- Still important to understand for legacy code and interviews (!)
