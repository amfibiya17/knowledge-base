# 5.02 CSS Modules

CSS Modules are a way to write **component-scoped CSS** so that styles
apply **only to the component they belong to**.

They solve the biggest problem of global CSS: **style collisions**.

---

## What CSS Modules are

With CSS Modules:

- class names are **scoped to a file**
- styles do **not leak** to other components
- you write normal CSS
- React imports styles as an object

Each class name becomes **unique at build time**.

---

## Basic example

### CSS file

```css
/* Button.module.css */
.button {
  background: blue;
  color: white;
}
```

### React component

```tsx
import styles from "./Button.module.css";

function Button() {
  return <button className={styles.button}>Click</button>;
}
```

Here:

- `styles.button` is a generated, unique class name
- it applies **only** to this component
- no other `.button` class is affected

---

## What happens under the hood

This:

```css
.button {
  background: blue;
}
```

Becomes something like:

```css
.button__3fK9a {
  background: blue;
}
```

React handles this automatically.

You never write the hashed name yourself.

---

## Why CSS Modules exist

Without CSS Modules:

- class names collide
- global styles override each other
- refactoring is risky
- large codebases become fragile

CSS Modules give you:

- predictable styling
- safer refactoring
- better component isolation

---

## When to use CSS Modules

CSS Modules are ideal for:

- component styles
- reusable UI elements
- most application UI
- medium and large projects

They are the **default choice** for styling components.

---

## What NOT to put in CSS Modules

Avoid putting these in CSS Modules:

- global resets
- typography foundations
- design tokens (variables)
- base HTML element styles

Those belong in **Global CSS**.

If you need to escape scoping:

```css
:global(.container) {
  max-width: 1200px;
}
```

`:global` escapes scoping - use sparingly.

---

## Common mistakes

- recreating global styles in every module
- overusing `:global`
- duplicating values instead of using CSS variables
- naming files inconsistently

---

## Mental model

- Global CSS → site-wide rules
- CSS Modules → component rules
- One component = one CSS file
- Convention: `ComponentName.module.css`

If it belongs to a component → use a CSS Module.

---

## Summary

- CSS Modules scope styles to components
- They prevent class name collisions
- They make refactoring safer
- They work with normal CSS syntax
- They are the best default for component styling
- Use Global CSS only for shared foundations
