# 7.06 End-to-End (E2E) Testing

**End-to-End (E2E) testing** verifies that an application works **from the user’s perspective**.
It tests the **entire system together** - frontend, backend, APIs, routing, and browser behaviour.

E2E tests answer the question:

> “Can a real user complete this flow successfully?”

---

## What E2E testing is

E2E tests simulate **real user behaviour** in a real browser:

- loading pages
- clicking buttons
- typing into inputs
- submitting forms
- navigating between pages

They test the **full application**, not individual functions.

---

## Why E2E testing exists

Unit and integration tests cannot catch issues like:

- broken navigation
- incorrect routing
- API integration failures
- auth issues
- environment misconfiguration
- visual or interaction regressions

E2E tests catch bugs that only appear when **everything runs together**.

---

## What E2E tests cover

E2E tests typically verify:

- critical user journeys
- authentication flows
- form submissions
- error handling
- permissions and roles
- integrations with backend APIs

Example flows:

- “User signs up”
- “User logs in and updates profile”
- “User completes checkout”

---

## Common E2E testing tools

### Playwright (modern default)

- fast and reliable
- supports Chromium, Firefox, WebKit
- strong auto-waiting
- good debugging tools

### Cypress

- very popular
- easy to learn
- great developer experience
- runs mainly in Chromium

### Selenium (older)

- cross-language
- slower and harder to maintain
- still used in legacy systems

Today, **Playwright or Cypress** are the most common choices.

---

## Basic example (Playwright)

```ts
test("user can log in", async ({ page }) => {
  await page.goto("/login");

  await page.fill("#email", "user@test.com");
  await page.fill("#password", "password");

  await page.click("button[type=submit]");

  await expect(page).toHaveURL("/dashboard");
});
```

This test verifies the **full login flow**.

---

## How E2E tests run

Typical flow:

1. Start backend
2. Start frontend
3. Launch browser
4. Run user actions
5. Assert results
6. Report failures

E2E tests run against:

- staging environment
- local dev environment
- preview builds

They do **not** usually run against production.

---

## E2E vs Unit vs Integration tests

**Unit tests**

- test small pieces
- fast
- cheap
- lots of them

**Integration tests**

- test components working together
- medium speed
- limited scope

**E2E tests**

- test the whole app
- slowest
- most expensive
- few but critical

They complement each other.

---

## Common mistakes

- too many E2E tests
- testing everything end-to-end
- brittle selectors
- relying on timing instead of waiting
- running E2E tests too often locally

E2E tests should protect business flows, not code details.

---

## Mental model

- Unit tests → “Does this function work?”
- Integration tests → “Do these parts work together?”
- E2E tests → “Can the user use the app?”

---

## Summary

- E2E tests simulate real user behaviour
- They test the entire system together
- Playwright and Cypress are common tools
- They catch high-level integration bugs
- They are slow and expensive - use sparingly
- Best used for critical user journeys
- A key part of a balanced testing strategy
