# 7.05 Storybook

**Storybook** is a tool for **building, documenting, and visually testing UI components**
in isolation from the rest of the app.

It is most commonly used for:

- component development
- design review
- documentation
- **visual testing**

---

## What Storybook is

Storybook is a **separate development environment** for UI components.

Instead of rendering components inside the full app, you render them:

- on their own
- with controlled props
- in specific UI states

Each state is called a **story**.

---

## Why Storybook exists

Building components inside a full app is hard because:

- you need the right data and routing
- state and layout affect behaviour
- visual bugs are easy to miss
- components are hard to reuse safely

Storybook solves this by letting you:

- work on one component at a time
- see all its states in one place
- avoid app-level noise
- catch visual issues early

---

## Basic idea

Instead of this:

```jsx
<App>
  <Button />
</App>
```

You do this:

```jsx
<Button variant="primary" />
<Button variant="secondary" />
<Button disabled />
```

Each variation becomes a **story**.

---

## What a “story” is

A **story** represents **one visual state** of a component.

Example:

```tsx
export const Primary = {
  args: {
    variant: "primary",
    children: "Save",
  },
};

export const Disabled = {
  args: {
    disabled: true,
    children: "Save",
  },
};
```

Stories answer the question:

> “What does this component look like in this state?”

---

## What Storybook is used for

Storybook is commonly used for:

- building reusable components
- documenting component APIs
- reviewing UI with designers
- testing edge cases visually
- sharing components across teams
- onboarding new developers

It becomes a **living component library** (!)

---

## Storybook and visual testing

Storybook is **the foundation for visual testing**.

By itself, Storybook enables:

- **manual visual testing**
- checking states by eye
- spotting layout or styling bugs

When combined with tools like:

- **Chromatic**
- Percy
- Loki

It enables **automated visual regression testing**.

---

## What visual regression testing means

Visual regression testing checks:

> “Did the UI change when it wasn’t supposed to?”

How it works:

1. Tool renders all stories
2. Takes screenshots
3. Compares with previous screenshots
4. Fails CI if pixels change

This catches bugs like:

- spacing changes
- broken layouts
- missing styles
- accidental design changes

---

## What Storybook is NOT

Storybook is **not**:

- a replacement for unit tests
- a replacement for E2E tests
- a place for business logic
- a full app environment

It focuses on **UI**, not behaviour.

---

## Storybook vs design tools (Figma)

- Figma → design intent
- Storybook → real implementation

Storybook shows:

- real HTML
- real CSS
- real components

This helps close the gap between design and code.

---

## When Storybook is especially valuable

Storybook is a great fit when:

- building a design system
- many components are shared
- visual consistency matters
- multiple developers work on UI
- regressions are costly

Large teams benefit the most.

---

## Mental model

- Component → building block
- Story → visual state
- Storybook → component playground
- Visual testing → “Did it change visually?”

Think:

> “If this component breaks visually, will we notice?”

---

## Summary

- Storybook renders components in isolation
- Each story represents a UI state
- It is widely used for visual testing
- Manual by default, automated with tools
- Complements unit and E2E tests
- Excellent for design systems and shared UI
- Not required for every project, but very powerful
