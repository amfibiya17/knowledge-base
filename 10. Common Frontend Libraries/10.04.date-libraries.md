# 10.04 Date Libraries

Date libraries help you **work with dates and times** in a safe,
readable, and consistent way.

JavaScript’s native `Date` API is powerful but:

- hard to read
- easy to misuse
- full of edge cases (timezones, formatting, parsing)

Date libraries exist to **reduce bugs and improve clarity**.

---

## Common date libraries

### Modern / recommended

- **date-fns** (most common today)
- **Day.js**

### Legacy (avoid for new projects)

- **Moment.js** (deprecated)

---

## Why native `Date` is hard

Example:

```ts
new Date().toISOString().slice(0, 10);
```

This works - but:

- it’s not readable
- easy to break
- hard to maintain

Date libraries give **clear, explicit functions**.

---

## date-fns

date-fns is:

- modular (import only what you use)
- immutable (no side effects)
- tree-shakeable
- very readable

---

## Basic examples (date-fns)

### Format a date

```ts
import { format } from "date-fns";

format(new Date(), "yyyy-MM-dd");
```

---

### Add / subtract time

```ts
import { addDays, subMonths } from "date-fns";

addDays(new Date(), 7);
subMonths(new Date(), 1);
```

---

### Compare dates

```ts
import { isBefore, isAfter } from "date-fns";

isBefore(dateA, dateB);
```

---

### Parse a date string

```ts
import { parseISO } from "date-fns";

parseISO("2024-03-10");
```

---

## Day.js (alternative)

Day.js has a Moment-like API but is much smaller.

```ts
import dayjs from "dayjs";

dayjs().add(7, "day").format("YYYY-MM-DD");
```

Good if you prefer **chainable syntax**.

---

## Timezones

Most date libraries:

- work in **local time** by default
- need plugins for timezone support

For complex timezone logic:

- `date-fns-tz`
- `luxon` (timezone-focused)

---

## When date libraries are useful

Use them when:

- formatting dates for UI
- comparing dates
- adding / subtracting time
- parsing API date strings
- avoiding timezone bugs

Almost every real app needs one.

---

## When you may not need one

You might skip a library when:

- only showing raw timestamps
- very simple, non-user-facing dates
- project is extremely small

---

## Mental model

- Native `Date` → low-level, error-prone
- Date library → clear, safe helpers
- UI dates → always format explicitly

---

## Summary

- Date libraries make working with dates safer
- date-fns is the most common modern choice
- Day.js is a smaller alternative
- Avoid Moment.js for new projects
- Use libraries to avoid subtle date bugs
