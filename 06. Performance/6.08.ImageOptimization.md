# 6.08 Image Optimisation

**Image optimisation** is one of the **highest-impact performance improvements**
you can make on a website.

Images are often:

- the **largest assets**
- the **slowest to load**
- the **main cause of poor LCP (Largest Contentful Paint)**

Poor image handling = slow pages.

---

## Why images are a performance problem

Common image problems:

- very large file sizes
- images bigger than needed
- wrong image format
- loading images too early
- loading images that are never seen

One unoptimised image can easily be **larger than all JS combined**.

---

## What image optimisation means

Image optimisation means:

- sending **the smallest possible image**
- with **acceptable visual quality**
- **at the right size**
- **at the right time**

Goal:

> Fast load + good quality + no wasted bytes

---

## Key optimisation techniques

### 1. Use the right image format

Different formats have different strengths:

- **JPEG** → photos (older, larger)
- **PNG** → images with transparency
- **SVG** → icons, logos (vector)
- **WebP** → modern replacement for JPEG/PNG
- **AVIF** → best compression, newer support

Rule of thumb:

> Use **WebP or AVIF** when possible (!)

They are **much smaller** for the same quality.

---

### 2. Resize images correctly

Never serve images larger than needed.

Bad:

- uploading a 4000px image
- displaying it at 400px

Good:

- generate multiple sizes
- serve the correct size for the screen

Example idea:

- mobile → small image
- desktop → larger image

---

### 3. Responsive images (`srcset`)

`srcset` allows the browser to choose the best image size.

```html
<img
  src="image-400.jpg"
  srcset="image-400.jpg 400w, image-800.jpg 800w, image-1600.jpg 1600w"
  sizes="(max-width: 600px) 100vw, 50vw"
  alt="Example"
/>
```

Benefits:

- smaller devices download smaller images
- faster load
- less wasted data

---

### 4. Lazy loading (load images only when needed)

Most images are **not visible immediately**.

Use lazy loading:

```html
<img src="image.jpg" loading="lazy" alt="..." />
```

This means:

- images load **when they enter the viewport**
- faster initial page load
- less network usage

Do NOT lazy-load:

- hero images
- images above the fold
- images affecting LCP

---

### 5. Optimise Largest Contentful Paint (LCP)

LCP is often an **image**.

To optimise LCP:

- use a properly sized image
- avoid lazy-loading the LCP image
- preload important images
- avoid large CSS or JS blocking it

Lighthouse will usually tell you which image is LCP.

---

## Image optimisation in frameworks

### Next.js Image component

Next.js provides `<Image />`, which handles:

- resizing
- modern formats
- lazy loading
- responsive images

Example:

```tsx
import Image from "next/image";

<Image src="/photo.jpg" width={800} height={600} alt="Example" />;
```

This gives:

- automatic optimisation
- better performance by default

---

### Other frameworks

Many frameworks or CDNs (Content Delivery Network) provide image optimisation:

- Cloudinary
- Imgix
- Akamai
- Vercel Image Optimization

These services:

- resize on demand
- convert formats automatically
- serve via CDN

---

## Common image performance mistakes

- uploading raw camera images
- using PNG for photos
- forgetting `alt` text
- lazy-loading hero images
- serving desktop images to mobile
- loading images hidden by CSS
- background images without optimisation

---

## Mental model

- Images → biggest bytes
- Size → download time
- Format → compression efficiency
- Visibility → load priority

Ask:

> “Does the user need this image **right now**, and at this size?”

---

## Summary

- Images are often the biggest performance bottleneck
- Use modern formats (WebP / AVIF)
- Resize images correctly
- Use responsive images (`srcset`)
- Lazy-load non-critical images
- Optimise LCP images carefully
- Framework tools can help a lot
- Image optimisation gives massive performance wins (!)
