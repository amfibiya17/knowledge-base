# 6.02 Performance Tab (Browser DevTools)

The **Performance tab** helps you understand **what the browser is doing**
while your app is running.

It answers questions like:

- Why does the UI feel slow or janky?
- Why does scrolling lag?
- Why does clicking a button freeze the page?
- What is blocking the main thread?

If the Network tab shows **what is loaded**,
the Performance tab shows **what is executed**.

---

## What the Performance tab shows

The Performance tab records a **timeline of browser activity**, including:

- JavaScript execution
- rendering and layout work
- painting pixels to the screen
- user interactions (clicks, scrolls)
- idle time

It shows **how work is distributed over time**.

---

## Why the Performance tab matters

A page can:

- load fast (Network looks fine)
- but still feel slow or unresponsive

This usually means:

- too much JavaScript
- expensive renders
- blocked main thread
- long tasks

The Performance tab helps you **see these issues clearly**.

---

## How to record a performance trace

1. Open DevTools → Performance
2. Click **Record**
3. Interact with the page (scroll, click, type)
4. Stop recording

You will see a **timeline** of everything that happened.

Always record **real interactions**, not just page load.

---

## The main thread

The **main thread** is where the browser does:

- JavaScript execution
- layout and rendering
- event handling

Important rule:

> If the main thread is busy,  
> the UI cannot respond.

Blocked main thread = frozen UI.

---

## Long tasks

A **long task** is JavaScript that runs for **more than ~50ms**.

In the Performance tab, long tasks appear as:

- long yellow blocks (JavaScript)
- warnings in the timeline

Why this matters:

- input is delayed
- scrolling stutters
- clicks feel unresponsive

Users experience this as **lag**.

---

## Key sections in the Performance tab

### Timeline overview (top)

Shows:

- CPU usage over time
- frame rate (FPS)
- screenshots of the page

Drops in FPS often correlate with heavy JS work.

---

### Main thread activity (middle)

This is where you spend most time debugging.

You will see:

- **Scripting** (yellow) → JavaScript
- **Rendering** (purple) → style & layout
- **Painting** (green) → pixels drawn

Large yellow sections = JS-heavy work.

---

### Call stack (bottom)

Shows:

- which functions were running
- what called what
- where time was spent

This helps identify:

- expensive functions
- unnecessary re-renders
- slow loops or calculations

---

## JavaScript execution (Scripting)

JavaScript is often the biggest performance problem.

Common causes:

- large render trees
- frequent re-renders
- expensive calculations in render
- unnecessary state updates
- heavy third-party libraries

If scripting dominates the timeline,
you likely need to optimise **JS or React logic**.

---

## Rendering & layout work

Rendering includes:

- recalculating styles
- layout (reflow)
- painting

Common problems:

- frequent layout thrashing
- reading and writing layout values repeatedly
- large DOM trees

Layout work is often triggered by:

- DOM size
- CSS complexity
- JS forcing layout recalculation

---

## Frames per second (FPS)

Smooth UI often targets **60 FPS**.

That means:

- each frame must render in ~16ms

If frames take longer:

- animations stutter
- scrolling feels rough

The Performance tab shows when frames are missed.

---

## User interactions

The Performance tab highlights:

- clicks
- input events
- scrolls

You can see:

- how long after a click JS starts running
- how long the handler takes
- whether rendering blocks the interaction

Delayed response = bad UX.

---

## Common performance issues

Watch out for:

- long yellow JS blocks
- repeated re-render work
- expensive calculations during render
- layout work after every interaction
- heavy work on scroll or resize
- large third-party scripts

If you see these, the UI will feel slow.

---

## Mental model

- Network tab → loading cost
- Performance tab → execution cost
- Main thread → UI responsiveness
- Long tasks → jank

---

## Summary

- Performance tab shows runtime behaviour
- Helps diagnose jank, lag, and freezes
- Main thread blocking is the core issue
- Long JavaScript tasks are the biggest red flag
- Rendering and layout also matter
- Always profile real user interactions
- Use Network + Performance together for full insight
