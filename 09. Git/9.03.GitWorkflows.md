# 9.03 Git Workflows

This file describes common Git workflows used in day-to-day development.
It focuses on **how to work with Git safely and predictably**, especially in a team.

---

## What a Git workflow is

A Git workflow defines:

- how branches are created
- how changes are integrated
- how history is kept readable
- how teams avoid conflicts

A workflow is about **process**, not commands.

---

## Feature branch workflow (most common)

This workflow is ideal for small to medium-sized projects.  
Larger teams may use more complex branching strategies.

### Core idea

- `main` (sometimes called `master`) is always stable
- all work happens in feature branches
- features are merged back into `main` when finished

You never work directly on `main`.

---

### Typical flow

1. Start from `main`
2. Create a feature branch
3. Commit changes to the feature branch
4. Bring your branch up to date with `main` (via merge or rebase)
5. Merge back into `main`
6. Delete the feature branch

---

### Example

```bash
git checkout main
git pull

git checkout -b feature/login-form
# work, commit, commit...

git checkout main
git pull
git merge feature/login-form

git branch -d feature/login-form
```

---

## Merge vs Rebase (conceptual difference)

### Merge

**Merge combines branches and preserves history as it happened.**

```bash
git checkout main
git merge feature/login-form
```

**What happens:**

- creates a merge commit
- keeps full branch history
- shows when branches diverged

**Pros:**

- safe
- simple
- good for shared branches

**Cons:**

- history can become noisy

---

### Rebase

**Rebase rewrites history to make it look linear.**

```bash
git checkout feature/login-form
git rebase main
```

**What happens:**

- feature commits are replayed on top of `main`
- no merge commit is created
- history looks cleaner and linear

**Pros:**

- linear, readable history
- easier to scan `git log`

**Cons:**

- rewrites history
- dangerous if used on shared branches

---

## When to use merge

Use **merge** when:

- working in a team
- the branch is shared
- safety matters more than clean history
- you want to preserve context

**Merge is the safest default choice.**

---

## When to use rebase

Use **rebase** when:

- working alone on a feature branch
- cleaning up commits before merging
- you understand the risks
- the branch is not shared

**Never rebase `main` or shared branches.**

---

## Mental model

- **Feature branch** → isolation
- **Merge** → combine histories safely
- **Rebase** → rewrite history for clarity
- **Main branch** → always stable

Choose clarity and safety over cleverness.

---

## Summary

- Use feature branches for all work
- Keep `main` stable and deployable
- Prefer merge for shared branches
- Use rebase carefully and locally
- A simple workflow beats a clever one
