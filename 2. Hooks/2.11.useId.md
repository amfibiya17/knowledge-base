# 2.11 useId

This file introduces the `useId` hook.  
`useId` is used to generate **stable, unique IDs** for accessibility attributes (like `id`, `htmlFor`, `aria-*`), in a way that works with **SSR and hydration**.

---

## What `useId` is

`useId` is a React hook that returns a **stable, unique ID string**.

It helps when you need to:

- connect a `<label>` to an `<input>`
- link inputs to help text (`aria-describedby`)
- create unique IDs inside reusable components
- avoid ID collisions when the component is rendered multiple times

---

## Basic syntax

```jsx
const id = useId();
```

Here:

- `id` is a stable string for this component instance
- it stays the same across re-renders
- it is safe to use with server rendering + hydration

---

## Example: label + input

```jsx
function NameField() {
  const id = useId();

  return (
    <div>
      <label htmlFor={id}>Name</label>
      <input id={id} />
    </div>
  );
}
```

Here:

- the label is connected to the input
- if you render `<NameField />` multiple times, IDs won’t clash

---

## Example: help text with `aria-describedby`

```jsx
function EmailField() {
  const id = useId();

  return (
    <div>
      <label htmlFor={id}>Email</label>
      <input id={id} aria-describedby={`${id}-help`} />
      <p id={`${id}-help`}>We will never share your email.</p>
    </div>
  );
}
```

Here:

- the input is linked to the help text via `aria-describedby`
- screen readers can read the help text when focused on the input

---

## Why `useId` exists

In React:

- components can be rendered multiple times
- manually hardcoding IDs can cause collisions
- generating random IDs can break SSR hydration

`useId` generates IDs that are:

- unique per component instance
- consistent between server and client
- safe for hydration

---

## When to use `useId`

Use it when you need IDs for:

- form field accessibility (label + input)
- ARIA relationships (`aria-describedby`, `aria-labelledby`)
- reusable components that might appear multiple times on a page

> If you need an ID only to connect elements inside a component, `useId` is usually the right choice.

---

## When NOT to use `useId`

Do not use `useId` for:

- keys in lists (use `key` from your data)
- IDs that must be stable across different sessions / reloads (use real data IDs)
- global identifiers you want to reference outside React

If the ID must come from your data model → use your data, not `useId`.

---

## What `useId` does NOT do

- It does not replace `key`
- It does not create persistent IDs across page reloads
- It does not guarantee meaningful IDs (only uniqueness)
- It does not solve state or performance problems

---

## Common mistakes

- Using `useId` for list keys
- Mixing `useId` with random ID generation
- Using it as a database identifier
- Assuming it should be used everywhere

---

## Mental model

- `useId` → “give me a unique ID for this component instance”
- best for accessibility wiring inside reusable UI components
- safe for SSR + hydration

---

## Summary

- `useId` generates unique, stable IDs per component instance
- it is mainly for accessibility attributes (`htmlFor`, `aria-*`)
- it avoids ID collisions in reusable components
- it is safe with server rendering and hydration
- do not use it for list keys or data identifiers
